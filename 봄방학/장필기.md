# MVC == MTV

> flask 하나 >>> 여러개로 분리
>
> 데이터 : Model >>> Model
>
> 인터페이스(화면) : View >>> Template
>
> 중간(상호작용) Controller >>> View



# 장고

- `django-admin startproject first_django` :
  - 멀티 폴더 : first_django 안에 여러 기능넣을것임
  - `first_django` : 관리자 느낌
    - `settings.py` 
    - `__init__.py` : 하위 호환
    - `urls.py`
    - `wsgi.py` : 배포때 건드릴예정
  - `manage.py` : 명령어 핸들링 파일

# index.html 해보기

1. `python manage.py startapp pages`
2. `INSTALLED_APPS = [ 'pages']` 추가 : 앱`pages`주민 등록
3. `python manage.py runserver 8080`
   - 8080 : 포트
     - `echo $PORT` : 8080 >>> C9의 규칙
     - `echo $IP` : `127.0.0.1 == localhost`
   - DisallowedHost : 호스트 권한 오류
   - 내 주소 : 8f8673545c8948708060bac9cbe640be.vfs.cloud9.us-west-2.amazonaws.com

# hello 만들기

1.  `urls.py` > `urlpatterns = [ path('요청 url/', 핸들링할 view(controller) 함수 ) ]`
   - flask와 비교 : `@app.route('요청url')` def 함수()
   - `path('hello/', views.hello )`
   - `urls.py` : 외부 요청이 들어올때, 문지기 역할
2. `templates/hello.html` 생성하기 

3. `hello() takes 0 positional arguments but 1 was given` : 배부름
   - django에서는 요청 객체인 request를 주고 받는다.

오류 디버깅

- `templateDoesNotExist` : `settings.py` > `INSTALLED_APPS` 에 `pages` 등록 

- `disallowed` : `settings.py` > `ALLOWED_HOSTS = ['*'] ` : 화이트 리스팅 == 다 막고, 일부만 통과

별명 붙이기



# 장고 라이브2

>  초반 : zoom때 했던거 실행

### django

- Project
  - app : 각 역할 담당 (게시판, 회원, ....)

### lotto

- **html 변수 출력** `{{변수key}}`로  출력
- 함수 내부에 import random 선언 >>> 프레임워크가 한다 (인벌전오브컨트롤) >>> 일단 모든 함수를 부른다.
- return render(request, 'url', **context**)
  - `render` 함수를 통해서 반환한다.
  - 첫번째 인자 : `request`
  - 두번째 인자 : 템플릿 파일(html) 주소
  - 세번째 인자 : (선택) 딕셔너리, 템플릿에서 활용하고자 하는 값을 담아 전달
    - **context = { 'key' : value }**
    - 하나의 context에 여러 {키:값} 묶음을 포함해 보낸다. 

- `templates` 폴더 안에 반환할 `html`파일을 작성한다.
  - 변수활용 : `{{ key }}`

출력 : `{{ }}`

문법 : `{% %}`

### 장고는

여러개의 앱을 가진 하나의 프로젝트로 구성된다.

 - 커뮤니티
   	- 회원관련 app
      	- 게시글 관련 app

요약

- 웹은 요청(request)과 응답(response)이다

- 작성법
  1. `urls.py`에 경로(path)를 정의한다
  2. `views.py` 실행 함수(def)를 정의한다.
  3. `templates 폴더`안에 반환할 `.html`을 작성한다. 템플릿에 작성한다.

### 장고 템플릿 언어

```django
{% for num in pick %}
    {{ num }}
{% endfor %}
{{pick|length}}
```
resquest : `<WSGIRequest: GET '/lotto/'>`

`/<>/` : variable 인자



# 장고 2일차 라이브

> The Web framework for perfectionists with deadlines.

질문

1. 요청 응답
2. MTV
3. URLS(path추가) - VIEW(함수 정의) - TEMPLATES(html 추가)

어제 설명하지 않았던 이야기

1. `00_django_intro 폴더`:  project 폴더
2. `django_intro 폴더` :
   1. `__init__.py` : 모듈과 패키지 형식
   2. `setting.py`
      1. Installed_apps = [ '앱이름 등록' ] >  앱 명령어 python manage.py startapp 앱이름
      2. allowed_host = ['허용할주소']
      3. TIME_ZONE = 'Asia/Seoul'
      4. LANGUAGE_CODE = 'ko-kr'
   3. `urls.py`
   4. `wsgi.py` : 배포시 사용, Web Server Gateway Interface
3. `migrations 폴더`
4. `templates 폴더`
5. 기타
   1. `admin.py`
   2. `apps.py`
   3. `models.py`
   4. `test.py`
   5. `views.py`

DTL

> 템플릿파일(html)은 django template language를 통해 구성 가능하다.

기본 문법

1. 출력 `{{ }}` 

   ex: `{{ menu.0}}`

2. 문법 `{% %}`

   ex : {%for v in lst%}

   ​	   {% end for %}

앞으로 키포인트 : **함수와 클래스**

# 도커

1. 개발자환경일치
2. 배포환경을 사진처럼 찍어놀수 있다.

# 기타 : 명령어들

- pip install Django == 2.1.15

- pip uninstall Django

- rm -rf .git : .git 지우기