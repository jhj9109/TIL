# 0413 사용자 인증 관리

라이브 흐름

01 프로젝트 시작 with 깃이그노어

- 프로젝트 시작
- `깃 시작 & 깃 이그노어`
  - `vi 파일`: vim 실행
- settings.py : 호스트, 언어, 시간
- runserver

02 `Init articles app`

- python manage.py startapp 앱이름s(앱이름은 복수형, 모델은 단수형)
- 세팅 > 앱 추가

03 `Create Article Model`

- 모델설정

- class Article(modles.Model)
  - 컬럼명 = 속성
- python manage.py makemigrations
- python manage.py showmigrations
- python manage.py migrate
- 어드민설정
- from .models import Article
- class `ArticleAdmin`(admin.ModelAdmin):
  - list_display = ['id', 'title', 'created_at', 'updated_at']
  - list_display_link = ['title']
  - list_filter = ['created_at']
  - 문서 참조

- admin.site.register(Article, `ArticleAdmin`)
- python manage.py createsuperuser

04 `amend`

- 폼 설정
- from .models import Article
- class ArticleForm(forms.ModelForm):
  - class Meta:
    - model = Article
    - field = `'__all__'`
- url 설정
- form django.urls import include
- urlpatterns = [path('Articles/', include('articles.urls')]

05 `Add Index page`

- url 설정

- from . import views

- app_name = 'articles'

- urlpatterns = [ path(''/, views.index), name='index']

- views 설정

- from .models import Article

- def index(request):

- articles = Article.objects.order_by('-pk')

- context = { 'articles':articles}

- return render(request, 'articles/index.html', context)

- templates/base.html

- {% block title %}

- {% endblock %}

- {% block css %}

- {% endblock %}

- {% block body %}

- {% endblock %}

- `<a href="{% url 'articles:index' %}">목록</a>`

- articles/templates/articles/index.html

- {% extends 'base.html' %}

- {% block title %}

- 타이틀명

- {% endblock %}

- {% for article in articles %}

  - <p>{{ articles.pk }}</p>

- {% endfor %}

- 세팅 설정

- TEMPLATES = 추가 `os.path.join(BASE_DIR, 'templates')`

06 `Add create page with message framework`

- create 만들기
- urls
- views
- from django.shortcur import redirect
- def create(request):
  - if request.method == 'POST':
    - form = ArticleForm(request.POST)
    - if form.is_valid():
      - article = form.save()
      - return redirect('articles:index')
  - else:
    - form = ArticleForm()
  - context = { 'form': form}
  - return render(request, 'articles/forms.html', context)

- html

- <form mothod="POST">
      {% csrf_token %}
      {{ form.as_p }}
      <button>작성</button>
  </form>

- `flash message` : one-time notification massage > based cookie, session

- settings.py

  - MIDDLEWARE

- from django_contrib import massages

- massages.error (request, '멘트')

- 부트스트랩 색상과 네이밍 매칭

- base.html에 디스플레잉 코드 작성 (복붙)

07 `Add detail page`

- urls.py
- path('<int:pk>/', 'articles/detail.html', views.detail, name ='detail')
- def detail(request, pk):
- article = Article.objects.get_object_or_404(Article, pk=pk)

- context = {'article': article}
- return render(request, 'articles/detail.html', context)
- detail.html
- 타이틀 > {{ article.pk }}
- 바디
- {{ article.pk }} : {{ article.title }}
- {{ article.context }}
- 각 html에 디테일 가는 링크 만들기

# Message

HTTP

- Stateless
- Connectionless

Message

- State를 Req&Res 넘겨줌
- SessionStorage

- 기본 FallbackStorage

장고 내부 User클래스, 모델 폼

해시함수 : 비밀번호 바꿔서 저장

SHA256 : 단방향 알고리즘

salting : 같은 패스워드도 다른 값으로 저장

해시 알고리즘 > 탐색 == 속도

pbkdf2